{% extends "base.html" %}

{% block content %}

<div class="column is-4 is-offset-4">
    <h3 class="title">Submit Data</h3>
    <div class="box">
        {% with errors = get_flashed_messages(category_filter=["error"]) %}
        {% if errors %}
        <div class="notification is-danger">
            {{ errors[0] }}
        </div>
        {% endif %}
        {% endwith %}

        {% with infos = get_flashed_messages(category_filter=["info"]) %}
        {% if infos %}
        <div class="notification is-success">
            {{ infos[0] }}
        </div>
        {% endif %}
        {% endwith %}

        <form method="POST" action="/submit">

            {{ submission_status }}
            <br>
            {% for kpi_id, kpi_name in kpis.items() %}
            <input type="radio" id={{kpi_name}} name="kpi_id" value={{kpi_id}} required>
            <label for="{{ kpi_id }}">{{ kpi_name }}</label><br>
            {% endfor %}

            <br>
            <p class="fallbackLabel">What period are you submitting data for?</p>
            <div class="fallbackDatePicker">
                <div>
                    <span>
                        <label for="month">Month:</label>
                        <select id="month" name="month">
                            <option selected>January</option>
                            <option>February</option>
                            <option>March</option>
                            <option>April</option>
                            <option>May</option>
                            <option>June</option>
                            <option>July</option>
                            <option>August</option>
                            <option>September</option>
                            <option>October</option>
                            <option>November</option>
                            <option>December</option>
                        </select>
                    </span>
                    <span>
                        <label for="year">Year:</label>
                        <select id="year" name="year">
                            <option>2022</option>
                            <option>2023</option>
                        </select>
                    </span>
                </div>
            </div>
            <br>
            <label for="numerator">
                Please input the numerator
            </label>
            <div class="field">
                <div class="control">
                    <input class="input is-large" type="number" name="numerator" placeholder="numerator" required min=0
                        autofocus="">
                </div>
            </div>
            <br>
            <label for="numerator">
                Please input the denominator
            </label>
            <div class="field">
                <div class="control">
                    <input class="input is-large" type="number" name="denominator" placeholder="denominator" min=0
                        required autofocus="">
                </div>
            </div>


    </div>
    <button class="button is-block is-info is-large is-fullwidth">Submit</button>
    <input type="reset">
    </form>
</div>
</div>


{% endblock %}